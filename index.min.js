const t=document.querySelector(".logo-floating-header-container");const s=document.getElementById("contact-form");const n=document.querySelector(".burger");const e=document.querySelectorAll(".nav-item");if(matchMedia("(min-width: 992px)").matches){const c=document.querySelectorAll("section");const i=new IntersectionObserver(e=>{for(const n of e){if(n.isIntersecting){n.target.closest("section").classList.add("visible")}}},{rootMargin:"-300px 0px"});c.forEach(e=>i.observe(e))}matchMedia("(min-width: 992px)").addEventListener("change",e=>{const n=document.querySelectorAll("section");const o=new IntersectionObserver(e=>{for(const n of e){if(n.isIntersecting){n.target.closest("section").classList.add("visible")}}},{rootMargin:"-300px 0px"});if(e.matches){n.forEach(e=>o.observe(e));return}n.forEach(e=>{t.classList.remove("visible");o.unobserve(e)})});document.addEventListener("scroll",e=>{if(matchMedia("(max-width: 992px)").matches)return;const n=document.querySelector("main");if(n.getBoundingClientRect().top<=120){t.classList.add("visible")}else{t.classList.remove("visible")}});async function o(e){e.preventDefault();const r=document.getElementById("response-form");const n=document.querySelector(".formButton");const o=n.textContent;n.textContent="Envoi...";document.querySelectorAll(`[data-name]`).forEach(e=>{e.classList.add("hidden")});const t=new FormData(e.target);fetch(e.target.action,{method:s.method,body:t,headers:{o:"application/json"}}).then(e=>{return e.json()}).then(e=>{if(e.status==="success"){r.textContent=e.message;r.classList.remove("hidden");r.classList.remove("error");setTimeout(()=>{r.classList.add("hidden")},5e3);s.reset();return}if(e.status==="error"){const n=Object.entries(e.t);for(const[o,t]of n){const c=document.querySelector(`[name="${o}"]`);c.classList.add("has-error");const i=document.querySelector(`[data-name="${o}"]`);i.classList.remove("hidden");i.textContent=t}}}).catch(e=>{console.log(e);r.classList.remove("hidden");r.textContent="Une erreur est survenue. Merci de rÃ©essayer plus tard.";r.classList.add("error");setTimeout(()=>{r.classList.add("hidden")},5e3)}).finally(()=>{n.textContent=o})}s.addEventListener("submit",o);n.addEventListener("click",()=>{n.classList.toggle("open");if(n.classList.contains("open")){document.body.style.overflow="hidden";return}document.body.style.overflow=""});e.forEach(e=>{e.addEventListener("click",()=>{n.classList.remove("open");document.body.style.overflow=""})});